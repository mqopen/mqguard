/*
 * Example of JSON report.
 */

// Initial data
{
    "feed": "init",
    "devices": [
        {
            "name": "test-device",
            "description": null,

            // Current device status. Values: "ok"|"error"
            "status": "ok",
            "reasons": null,
            "presence": {
                "isEnabled": true,
                "dataIdentifier": "broker-name:device/presence/topic",
                "onlineMessage": "online",
                "offlineMessage": "offline",
                "lastMessage": "offline",
                "status": "error",
                "message": "Device goes offline"
            }
            "guards": [
                {
                    "dataIdentifier": "my-broker:device/topic",
                    "alarms": [
                        {
                            "alarm": "range",
                            "lowerLimit": -1,
                            "upperLimit": 1,
                        },
                        {
                            "alarm": "dataType",
                            "validCharacters": ["a", "b"],
                        },
                        {
                            "alarm": "errorCodes",
                            "errorCodes": ["E_SYNC", "E_CONN"],
                        },
                    ]
                }
            ]
        }
    ],
    "brokers": [
        {
            "name": "my-broker",
            "host": "localhost",
            "port": 1883,
            "subscriptions": ["#"],
            // False is broker requires credentials.
            "public": false,
            // Broker connection status. Values: "ok"|"disconnected"
            "status": "ok",
            // Broker connection status message.
            "message": "ok",
        },
    ],
}

// Update
{
    "feed": "update",
    "devices": [
        {
            "name": "test-device",
            "status": "error",
            "reasons": {
                [
                    "guard": "my-broker:device/topic",
                    "alarm": "range",
                    "status": "error",
                    "message": "Data out of range",
                ],
            },
        },
    ],
    "brokers": [
        {
            "name": "my-broker",
            "status": "disconnected",
            "message": "Timed out"
        }
    ],
}
